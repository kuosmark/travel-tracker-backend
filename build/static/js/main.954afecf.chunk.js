(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{260:function(e,t,n){e.exports=n(461)},461:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(42),s=n.n(o),i=n(27),c=n(14),u=n.n(c),l=n(16),p=n(36),d=n(37),m=n(39),f=n(38),h=n(40),g=n(477),E=n(473),v=n(478),w=n(472),k=n(29),b=n.n(k),y="http://localhost:3001/api/travels",x=null,O={getAll:function(){var e=Object(l.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(y);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),create:function(){var e=Object(l.a)(u.a.mark(function e(t){var n,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:x}},e.next=3,b.a.post(y,t,n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(l.a)(u.a.mark(function e(t,n){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.put("".concat(y,"/").concat(t),n);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),remove:function(){var e=Object(l.a)(u.a.mark(function e(t){var n,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:x}},e.next=3,b.a.delete("".concat(y,"/").concat(t),n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),setToken:function(e){x="bearer ".concat(e)}},R=function(e){return function(t){t({type:"ADDUSER",user:e})}},T=function(){return function(e){e({type:"REMOVEUSER"})}},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADDUSER":return t.user;case"REMOVEUSER":return null;default:return e}},A=n(470),C=n(469),j=n(481),I=n(482),U=n(70),P=n(475),S=function(e){var t=e.text,n=e.color;return t?a.a.createElement("div",null,a.a.createElement(P.a,{compact:!0,color:n,header:t,icon:"green"===n?"thumbs up":"warning sign",size:"large"})):null},L=n(474),D=n(480),N=n(249),G=function(e){return function(t){t({type:"NOTIFY",message:e}),setTimeout(function(){t({type:"CLEAR"})},2e3)}},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NOTIFY":return t.message;case"CLEAR":return{};default:return e}},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CLEARLOGIN":return{username:"",password:""};case"USERNAMELOGIN":return{username:t.username,password:e.password};case"PASSWORDLOGIN":return{username:e.username,password:t.password};default:return e}},W={login:function(){var e=Object(l.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.post("http://localhost:3001/api/login",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},F=function(e){function t(){var e,n;Object(p.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(a)))).notify=function(e,t){n.props.updateMessage({text:e,color:t})},n.login=function(){var e=Object(l.a)(u.a.mark(function e(t){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,W.login(n.props.userToLogin);case 4:r=e.sent,window.localStorage.setItem("loggedInUser",JSON.stringify(r)),O.setToken(r.token),n.props.clearLogin(),n.props.loginUser(r),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0),n.notify("invalid username or password, try again!","red"),n.props.clearLogin();case 16:case"end":return e.stop()}},e,this,[[1,11]])}));return function(t){return e.apply(this,arguments)}}(),n.updateUsername=function(e){n.props.updateUsername(e.target.value)},n.updatePassword=function(e){n.props.updatePassword(e.target.value)},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return a.a.createElement(L.a,{onSubmit:this.login,size:"large"},a.a.createElement(D.a,null,a.a.createElement(L.a.Input,{fluid:!0,icon:"user",name:"username",iconPosition:"left",placeholder:"Username",value:this.props.userToLogin.username,onChange:this.updateUsername}),a.a.createElement(L.a.Input,{fluid:!0,icon:"lock",name:"password",iconPosition:"left",placeholder:"Password",type:"password",value:this.props.userToLogin.password,onChange:this.updatePassword}),a.a.createElement(N.a,{color:"blue",fluid:!0,size:"large",type:"submit"},"Login")))}}]),t}(r.Component),B={updateUsername:function(e){return function(t){t({type:"USERNAMELOGIN",username:e})}},updatePassword:function(e){return function(t){t({type:"PASSWORDLOGIN",password:e})}},clearLogin:function(){return function(e){e({type:"CLEARLOGIN"})}},loginUser:R,logoutUser:T,updateMessage:G},J=Object(i.b)(function(e){return{user:e.user,userToLogin:e.userToLogin,userToRegister:e.userToRegister}},B)(F),V=n(483),H="http://localhost:3001/api/users",X={getAll:function(){var e=Object(l.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(H);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),create:function(){var e=Object(l.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=b.a.post(H,t),e.abrupt("return",n.data);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(l.a)(u.a.mark(function e(t,n){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.put("".concat(H,"/").concat(t),n);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),remove:function(){var e=Object(l.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.delete("".concat(H,"/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{username:"",password:"",password2:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATEREG":return t.userToLogin;case"USERNAMEREG":return{username:t.username,password:e.password,password2:e.password2};case"PASSWORDREG":return{username:e.username,password:t.password,password2:e.password2};case"PASSWORD2REG":return{username:e.username,password:e.password,password2:t.password2};default:return e}},q=function(e){function t(){var e,n;Object(p.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(a)))).notify=function(e,t){n.props.updateMessage({text:e,color:t})},n.register=function(){var e=Object(l.a)(u.a.mark(function e(t){var r,a,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),r=n.props.userToRegister.username,a=n.props.userToRegister.password,o=n.props.userToRegister.password2,r.length<3?n.notify("Username must be at least 3 characters long","red"):a!==o?n.notify("Passwords don't match!","red"):a.length<3?n.notify("Password must be at least 3 characters long!","red"):n.createAccount();case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.createAccount=Object(l.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.getAll();case 2:if(!(e.sent.filter(function(e){return e.username===n.props.userToRegister.username}).length>0)){e.next=7;break}n.notify("Username is already taken!","red"),e.next=18;break;case 7:return e.prev=7,e.next=10,X.create({username:n.props.userToRegister.username,password:n.props.userToRegister.password});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(7),console.log(e.t0);case 15:n.notify("account ".concat(n.props.userToRegister.username," created!"),"green"),n.props.clearRegister(),n.props.history.push("/login");case 18:case"end":return e.stop()}},e,this,[[7,12]])})),n.updateUsername=function(e){n.props.updateRUsername(e.target.value)},n.updatePassword=function(e){n.props.updateRPassword(e.target.value)},n.updatePassword2=function(e){n.props.updateRPassword2(e.target.value)},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return a.a.createElement(L.a,{onSubmit:this.register,size:"large"},a.a.createElement(D.a,null,a.a.createElement(L.a.Input,{fluid:!0,icon:"user",name:"newUsername",iconPosition:"left",placeholder:"Username",value:this.props.userToRegister.username,onChange:this.updateUsername}),a.a.createElement(L.a.Input,{fluid:!0,icon:"lock",name:"newPassword",iconPosition:"left",placeholder:"Password",type:"password",value:this.props.userToRegister.password,onChange:this.updatePassword}),a.a.createElement(L.a.Input,{fluid:!0,icon:"lock",name:"newPassword2",iconPosition:"left",placeholder:"Repeat password",type:"password",value:this.props.userToRegister.password2,onChange:this.updatePassword2}),a.a.createElement(N.a,{color:"blue",fluid:!0,size:"large",type:"submit"},"Submit")))}}]),t}(a.a.Component),Q={clearRegister:function(){return function(e){e({type:"UPDATEREG",userToLogin:{username:"",password:"",password2:""}})}},updateRPassword:function(e){return function(t){t({type:"PASSWORDREG",password:e})}},updateRPassword2:function(e){return function(t){t({type:"PASSWORD2REG",password2:e})}},updateRUsername:function(e){return function(t){t({type:"USERNAMEREG",username:e})}},loginUser:R,logoutUser:T,updateMessage:G},_=Object(V.a)(Object(i.b)(function(e){return{user:e.user,userToLogin:e.userToLogin,userToRegister:e.userToRegister,message:e.message}},Q)(q)),Z=function(e){var t=e.login,n=e.text,r=e.color;return a.a.createElement("div",{style:{overflow:"hidden"}},a.a.createElement(C.a,{hidden:!0}),a.a.createElement(j.a,{centered:!0,padded:!0},a.a.createElement(j.a.Row,null,a.a.createElement(S,{text:n,color:r}))),a.a.createElement(C.a,{hidden:!0}),n?null:a.a.createElement("div",null,a.a.createElement(C.a,{hidden:!0}),a.a.createElement(C.a,{hidden:!0}),a.a.createElement(C.a,{hidden:!0}),a.a.createElement(C.a,{hidden:!0}),a.a.createElement(C.a,{hidden:!0})),a.a.createElement(j.a,{textAlign:"center"},a.a.createElement(j.a.Column,{style:{maxWidth:450}},a.a.createElement(I.a,{as:"h2",color:"blue"},a.a.createElement(U.a,{name:t?"plane":"user circle"}),t?"Log in to account":"Create new account"),t?a.a.createElement(J,null):a.a.createElement(_,null),a.a.createElement(P.a,null,a.a.createElement(A.a,{to:t?"/register":"/login"},t?"Create new account":"Log in to account")))),a.a.createElement(C.a,{hidden:!0}))},$=n(476),ee=function(e){function t(){var e,n;Object(p.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(a)))).logout=function(){O.setToken(null),window.localStorage.removeItem("loggedInUser"),n.props.logoutUser()},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement($.a,{fluid:!0,widths:3,borderless:!0,size:"huge"},a.a.createElement($.a.Item,null,a.a.createElement(N.a,{color:"blue",onClick:this.logout,size:"large"},a.a.createElement(U.a,{name:"log out"}),"Log out"))))}}]),t}(r.Component),te={loginUser:R,logoutUser:T},ne=Object(i.b)(function(e){return{user:e.user,userToLogin:e.userToLogin,userToRegister:e.userToRegister,message:e.message}},te)(ee),re=n(248),ae=n(117),oe=n(471),se=n(118),ie=function(e){var t=e.open,n=e.close,r=e.inlineStyle,o=e.marker,s=e.newTitle,i=e.newText,c=e.onRemoveSubmit,u=e.onEditSubmit,l=e.handleTitleChange,p=e.handleTextChange,d=e.active,m=e.setInfo,f=e.setEdit,h=e.setSettings,g=e.confirmOpen,E=e.openConfirm,v=e.closeConfirm;return a.a.createElement("div",null,a.a.createElement(oe.a,{centered:!1,header:"WARNING!",textalign:"middle",content:0===o.text.length&&0===o.title.length?"Do you want to remove the empty marker?":"Are you sure?",cancelButton:"Never mind",confirmButton:"Let's do it",open:g,onCancel:v,onConfirm:c}),a.a.createElement(se.a,{open:t,onClose:n,style:r.modal,closeIcon:!0},a.a.createElement("div",null,a.a.createElement($.a,{icon:"labeled",fluid:!0,widths:3,tabular:!0,size:"huge",color:"blue"},a.a.createElement($.a.Item,{name:"info",active:"info"===d,onClick:m},a.a.createElement(U.a,{name:"book"}),"Info"),a.a.createElement($.a.Item,{name:"edit",active:"edit"===d,onClick:f},a.a.createElement(U.a,{name:"edit"}),"Edit"),a.a.createElement($.a.Item,{name:"settings",active:"settings"===d,onClick:h},a.a.createElement(U.a,{name:"trash"}),"Remove")),a.a.createElement(C.a,{hidden:!0}),a.a.createElement(C.a,{hidden:!0}),a.a.createElement(C.a,{hidden:!0}),"info"===d?a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement(j.a,{centered:!0,verticalAlign:"middle"},a.a.createElement(j.a.Row,null,a.a.createElement(I.a,{as:"h1",textAlign:"center"},a.a.createElement(C.a,{hidden:!0}),s.length>0?o.title:"")),a.a.createElement(j.a.Row,null,a.a.createElement(I.a,{as:"h3"},o.text))))):"edit"===d?a.a.createElement("div",null,a.a.createElement(j.a,{centered:!0,verticalAlign:"middle"},a.a.createElement(j.a.Column,{style:{maxWidth:450}},a.a.createElement(L.a,{onSubmit:u,size:"large"},a.a.createElement(L.a.Input,{name:"newTitle",label:"Edit title",value:s,onChange:l}),a.a.createElement(L.a.TextArea,{name:"newText",label:"Additional information",value:i,rows:4,onChange:p}),a.a.createElement(N.a,{color:"blue",fluid:!0,size:"large",type:"submit"},"Update"))))):a.a.createElement("div",null,a.a.createElement(C.a,{hidden:!0}),a.a.createElement(j.a,{padded:!0,centered:!0,verticalAlign:"middle"},a.a.createElement(N.a,{size:"large",centered:"top",color:"blue",type:"submit",onClick:E},"Remove marker")),a.a.createElement(C.a,{hidden:!0})),a.a.createElement(C.a,{hidden:!0}),a.a.createElement(C.a,{hidden:!0}),a.a.createElement(C.a,{hidden:!0}))))},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{title:"",text:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATEMARKER":return t.markerInfo;case"CLEARMARKER":return{title:"",text:""};case"UPDATETITLE":return{title:t.title,text:e.text};case"UPDATETEXT":return{title:e.title,text:t.text};default:return e}},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"OPENMODAL":return!0;case"CLOSEMODAL":return!1;default:return e}},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGETAB":return t.tab;default:return e}},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"OPENCONFIRM":return!0;case"CLOSECONFIRM":return!1;default:return e}},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{title:"",text:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADDMARKER":return t.marker;case"REMOVEMARKER":return{title:"",text:""};default:return e}},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE":return t.markers;default:return e}},fe={modal:{marginTop:"-250px",display:"fixed !important"}},he=function(e){function t(){var e,n;Object(p.a)(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(n=Object(m.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(o)))).componentDidMount=Object(l.a)(u.a.mark(function e(){var t,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.props.changeTab("info"),e.next=3,O.getAll();case 3:t=e.sent,r=t.map(function(e){return{user:e.user._id,id:e.id,title:e.title,text:e.text,position:{lat:e.position.lat,lng:e.position.lng}}}),n.props.initMarkers(r);case 6:case"end":return e.stop()}},e,this)})),n.open=function(){return n.props.openConfirm()},n.close=function(){return n.props.closeConfirm()},n.handleTitleChange=function(e){n.props.updateTitle(e.target.value)},n.handleTextChange=function(e){n.props.updateText(e.target.value)},n.updateMarker=function(){var e=Object(l.a)(u.a.mark(function e(t){var r,a,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(re.a)({},n.props.activeMarker,{title:n.props.markerInfo.title,text:n.props.markerInfo.text}),e.next=3,O.update(r.id,r);case 3:a=e.sent,o=n.props.markers.filter(function(e){return e.id!==r.id}),n.props.initMarkers(o),n.props.updateMarkerInfo({title:a.title,text:a.text}),n.props.changeTab("info"),n.props.addActiveMarker(a),n.props.initMarkers(n.props.markers.concat(a));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.removeMarker=Object(l.a)(u.a.mark(function e(){var t,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.activeMarker,e.prev=1,e.next=4,O.remove(t.id);case 4:r=n.props.markers.filter(function(e){return e.id!==t.id}),n.props.initMarkers(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:n.props.clearMarkerInfo(),n.props.closeConfirm(),n.props.clearActiveMarker(),n.props.closeModal();case 15:case"end":return e.stop()}},e,this,[[1,8]])})),n.onMarkerClick=function(){var e=Object(l.a)(u.a.mark(function e(t,r,a){var o,s,i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=t.position.lat,s=t.position.lng,i=n.props.markers.find(function(e){return e.position.lat===o&&e.position.lng===s}),n.props.updateMarkerInfo({title:i.title,text:i.text}),n.props.addActiveMarker(i),n.props.openModal(),n.props.changeTab("info");case 7:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}(),n.handleModalClose=function(e){0===n.props.activeMarker.title.length&&0===n.props.activeMarker.text.length?n.open():(n.props.clearMarkerInfo(),n.props.clearActiveMarker(),n.props.closeModal())},n.onMapClicked=function(){var e=Object(l.a)(u.a.mark(function e(t,r,a){var o,s,i,c,l;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=a.latLng,s=o.lat(),i=o.lng(),c={user:n.props.user.id,title:"",text:"",position:{lat:s,lng:i}},e.prev=4,e.next=7,O.create(c);case 7:l=e.sent,n.props.updateMarkerInfo({title:l.title,text:l.text}),n.props.changeTab("edit"),n.props.addActiveMarker(l),n.props.openModal(),n.props.initMarker(n.props.markers.concat(l)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),console.log(e.t0);case 18:case"end":return e.stop()}},e,this,[[4,15]])}));return function(t,n,r){return e.apply(this,arguments)}}(),n.renderMarkers=function(){return console.log(n.props.markers),n.props.markers.filter(function(e){return e.user===n.props.user.id}).map(function(e){return a.a.createElement(ae.Marker,{key:e.id,title:e.title,name:e.text,position:e.position,onClick:n.onMarkerClick})})},n.handleClose=function(){return n.props.closeModal()},n.setInfo=function(){return n.props.changeTab("menu")},n.setEdit=function(){return n.props.changeTab("edit")},n.setSettings=function(){return n.props.changeTab("settings")},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{style:{height:"100%",width:"100%",display:"flex",flexFlow:"row nowrap",justifyContent:"center",padding:0}},a.a.createElement(ie,{open:this.props.modal,close:this.handleModalClose,inlineStyle:fe,marker:this.props.activeMarker,newTitle:this.props.markerInfo.title,newText:this.props.markerInfo.text,onRemoveSubmit:this.removeMarker,onEditSubmit:this.updateMarker,handleTitleChange:this.handleTitleChange,handleTextChange:this.handleTextChange,active:this.props.menu,setInfo:this.setInfo,setEdit:this.setEdit,setSettings:this.setSettings,confirmOpen:this.props.confirm,openConfirm:this.open,closeConfirm:this.close}),a.a.createElement(ae.Map,{google:this.props.google,zoom:2,initialCenter:{lat:0,lng:0},onClick:this.onMapClicked},this.renderMarkers()))}}]),t}(r.Component),ge=Object(ae.GoogleApiWrapper)(function(e){return{apiKey:e.apiKey,language:e.language}})(he),Ee={updateText:function(e){return function(t){t({type:"UPDATETEXT",text:e})}},updateTitle:function(e){return function(t){t({type:"UPDATETITLE",title:e})}},clearMarkerInfo:function(){return function(e){e({type:"CLEARMARKER"})}},updateMarkerInfo:function(e){return function(t){t({type:"UPDATEMARKER",markerInfo:e})}},openModal:function(){return function(e){e({type:"OPENMODAL"})}},closeModal:function(){return function(e){e({type:"CLOSEMODAL"})}},openConfirm:function(){return function(e){e({type:"OPENCONFIRM"})}},closeConfirm:function(){return function(e){e({type:"CLOSECONFIRM"})}},changeTab:function(e){return function(t){t({type:"CHANGETAB",tab:e})}},addActiveMarker:function(e){return function(t){t({type:"ADDMARKER",marker:e})}},clearActiveMarker:function(){return function(e){e({type:"REMOVEMARKER"})}},initMarkers:function(e){return function(t){t({type:"UPDATE",markers:e})}},addMarker:function(e){return function(t){t({type:"UPDATE",markers:(void 0).store.markers.concat(e)})}}},ve=Object(i.b)(function(e){return{user:e.user,markerInfo:e.markerInfo,modal:e.modal,confirm:e.confirm,menu:e.menu,activeMarker:e.activeMarker,markers:e.markers}},Ee)(ge),we=function(){return a.a.createElement("div",null,a.a.createElement(ve,{apiKey:"AIzaSyCy6G0q6EnGtGPGAAvLlC37STQU4Med0xE",language:"en"}),a.a.createElement(ne,null))},ke=function(e){function t(){var e,n;Object(p.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(a)))).componentDidMount=Object(l.a)(u.a.mark(function e(){var t,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(t=window.localStorage.getItem("loggedInUser"))&&(r=JSON.parse(t),n.props.loginUser(r),O.setToken(r.token));case 2:case"end":return e.stop()}},e,this)})),n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.user,t=this.props.text,n=this.props.color;return a.a.createElement(g.a,null,a.a.createElement(w.a,null,a.a.createElement(E.a,{exact:!0,path:"/",render:function(){return a.a.createElement(v.a,{to:"/login"})}}),a.a.createElement(E.a,{path:"/login",render:e?function(){return a.a.createElement(v.a,{to:"/map"})}:function(){return a.a.createElement(Z,{login:!0,text:t,color:n})}}),a.a.createElement(E.a,{path:"/register",render:e?function(){return a.a.createElement(v.a,{to:"/map"})}:function(){return a.a.createElement(Z,{login:!1,text:t,color:n})}}),a.a.createElement(E.a,{path:"/map",render:e?function(){return a.a.createElement(we,null)}:function(){return a.a.createElement(v.a,{to:"/login"})}})))}}]),t}(r.Component),be={loginUser:R},ye=Object(i.b)(function(e){return{user:e.user,text:e.message.text,color:e.message.color}},be)(ke),xe=n(246),Oe=n(69),Re=Object(Oe.c)({message:z,user:M,userToLogin:K,userToRegister:Y,markerInfo:ce,modal:ue,confirm:pe,menu:le,activeMarker:de,markers:me}),Te=Object(Oe.d)(Re,Object(Oe.a)(xe.a)),Me=function(){s.a.render(a.a.createElement(i.a,{store:Te},a.a.createElement(ye,null)),document.getElementById("root"))};Me(),Te.subscribe(Me)}},[[260,1,2]]]);
//# sourceMappingURL=main.954afecf.chunk.js.map