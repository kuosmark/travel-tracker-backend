{"version":3,"sources":["services/markers.js","reducers/userReducer.js","reducers/registerFormReducer.js","Notification.js","services/login.js","reducers/messageReducer.js","reducers/loginFormReducer.js","LoginForm.js","services/users.js","RegistrationForm.js","Forms.js","AddModal.js","reducers/markerInfoReducer.js","reducers/modalReducer.js","reducers/menuReducer.js","reducers/confirmReducer.js","reducers/activeMarkerReducer.js","reducers/markersReducer.js","GoogleMaps.js","Logout.js","Map.js","App.js","store.js","index.js"],"names":["baseUrl","token","services_markers","getAll","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","response","wrap","_context","prev","next","axios","get","sent","abrupt","data","stop","this","apply","arguments","create","_ref2","_callee2","newObject","config","_context2","headers","Authorization","post","_x","update","_ref3","_callee3","id","_context3","put","concat","_x2","_x3","remove","_ref4","_callee4","_context4","delete","_x4","setToken","newToken","login","user","dispatch","type","reducer","store","length","undefined","action","clearForm","username","password","password2","objectSpread","Notification","text","color","react_default","createElement","Message","compact","header","icon","size","services_login","credentials","showMessage","message","setTimeout","LoginForm","event","preventDefault","loginService","_this","props","window","localStorage","setItem","JSON","stringify","travelService","t0","console","log","updateUsername","target","value","updatePassword","Form","onSubmit","Segment","Input","iconPosition","placeholder","onChange","Button","fluid","Component","mapDispatchToProps","connectedLoginForm","connect","state","loginForm","users","RegistrationForm","register","createAccount","userService","history","push","e","updatePassword2","React","connectedRegistrationForm","withRouter","registerForm","Forms","style","overflow","Divider","hidden","Grid","centered","padded","Row","src_Notification","textAlign","Column","maxWidth","Header","as","Icon","name","src_LoginForm","src_RegistrationForm","Link","to","AddModal","open","close","marker","newTitle","newText","onRemoveSubmit","onEditSubmit","handleTitleChange","handleTextChange","active","setInfo","setEdit","setSettings","confirmOpen","openConfirm","closeConfirm","Confirm","textalign","content","title","cancelButton","confirmButton","onCancel","onConfirm","Modal","onClose","marginTop","closeIcon","Menu","widths","tabular","Item","onClick","verticalAlign","label","TextArea","rows","markerInfo","tab","markers","GoogleMaps","_Component","_getPrototypeOf2","classCallCheck","_len","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","componentDidMount","markerService","map","_id","position","lat","lng","initMarkers","updateTitle","updateText","updateMarker","editedMarker","updatedMarker","activeMarker","filter","m","updateMarkerInfo","changeTab","addActiveMarker","removeMarker","toRemove","clearMarkerInfo","clearActiveMarker","closeModal","onMarkerClick","clickedMarker","find","openModal","handleModalClose","onMapClicked","_ref5","_callee5","t","coord","latLng","newMarker","_context5","initMarker","renderMarkers","dist","key","handleClose","inherits","createClass","menu","display","justifyContent","src_AddModal","modal","confirm","google","zoom","initialCenter","wrapper","GoogleApiWrapper","_ref6","apiKey","language","addMarker","connectedWrapper","Logout","logout","borderless","Map","src_GoogleMaps","process","src_Logout","App","loggedInUserJSON","getItem","parse","removeItem","_this2","BrowserRouter","Container","Route","exact","path","render","Redirect","src_Forms","src_Map","connectedApp","combineReducers","userReducer","messageReducer","loginFormReducer","registerFormReducer","markerInfoReducer","modalReducer","confirmReducer","menuReducer","activeMarkerReducer","markersReducer","createStore","applyMiddleware","thunk","ReactDOM","es","src_App","document","getElementById","subscribe"],"mappings":"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","file":"static/js/main.e8c712c8.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/markers'\nlet token = null\n\nconst setToken = newToken => {\n  token = `bearer ${newToken}`\n}\n\nconst getAll = async () => {\n  const response = await axios.get(baseUrl)\n  return response.data\n}\n\nconst create = async newObject => {\n  const config = {\n    headers: { Authorization: token }\n  }\n  const response = await axios.post(baseUrl, newObject, config)\n  return response.data\n}\n\nconst update = async (id, newObject) => {\n  const response = await axios.put(`${baseUrl}/${id}`, newObject)\n  return response.data\n}\n\nconst remove = async id => {\n  const config = {\n    headers: { Authorization: token }\n  }\n  const response = await axios.delete(`${baseUrl}/${id}`, config)\n  return response.data\n}\n\nexport default { getAll, create, update, remove, setToken }\n","const reducer = (store = null, action) => {\n  switch (action.type) {\n    case 'ADD_USER':\n      return action.user\n    case 'REMOVE_USER':\n      return null\n    default:\n      return store\n  }\n}\n\nexport const login = user => dispatch => {\n  dispatch({\n    type: 'ADD_USER',\n    user\n  })\n}\n\nexport const logout = () => dispatch => {\n  dispatch({\n    type: 'REMOVE_USER'\n  })\n}\n\nexport default reducer\n","const reducer = (\n  store = { username: '', password: '', password2: '' },\n  action\n) => {\n  switch (action.type) {\n    case 'REGISTER_USERNAME':\n      return { ...store, username: action.username }\n    case 'REGISTER_PASSWORD':\n      return { ...store, password: action.password }\n    case 'REGISTER_PASSWORD2':\n      return { ...store, password2: action.password2 }\n    case 'REGISTER_CLEAR':\n      return { username: '', password: '', password2: '' }\n    default:\n      return store\n  }\n}\n\nexport const updateUsername = username => dispatch => {\n  dispatch({\n    type: 'REGISTER_USERNAME',\n    username\n  })\n}\n\nexport const updatePassword = password => dispatch => {\n  dispatch({\n    type: 'REGISTER_PASSWORD',\n    password\n  })\n}\n\nexport const updatePassword2 = password2 => dispatch => {\n  dispatch({\n    type: 'REGISTER_PASSWORD2',\n    password2\n  })\n}\n\nexport const clearForm = () => dispatch => {\n  dispatch({\n    type: 'REGISTER_CLEAR'\n  })\n}\n\nexport default reducer\n","import React from 'react'\nimport { Message } from 'semantic-ui-react'\n\nconst Notification = ({ text, color }) =>\n  text ? (\n    <div>\n      <Message\n        compact\n        color={color}\n        header={text}\n        icon={color === 'green' ? 'thumbs up' : 'warning sign'}\n        size='large'\n      />\n    </div>\n  ) : null\n\nexport default Notification\n","import axios from 'axios'\nconst baseUrl = '/api/login'\n\nconst login = async credentials => {\n  const response = await axios.post(baseUrl, credentials)\n  return response.data\n}\n\nexport default { login }\n","const reducer = (store = {}, action) => {\n  switch (action.type) {\n    case 'ADD_MESSAGE':\n      return action.message\n    case 'REMOVE_MESSAGE':\n      return {}\n    default:\n      return store\n  }\n}\n\nexport const showMessage = message => {\n  return dispatch => {\n    dispatch({\n      type: 'ADD_MESSAGE',\n      message\n    })\n    setTimeout(() => {\n      dispatch({\n        type: 'REMOVE_MESSAGE'\n      })\n    }, 2000)\n  }\n}\n\nexport default reducer\n","const reducer = (store = { username: '', password: '' }, action) => {\n  switch (action.type) {\n    case 'LOGIN_USERNAME':\n      return { ...store, username: action.username }\n    case 'LOGIN_PASSWORD':\n      return { ...store, password: action.password }\n    case 'LOGIN_CLEAR':\n      return { username: '', password: '' }\n    default:\n      return store\n  }\n}\n\nexport const updateUsername = username => dispatch => {\n  dispatch({\n    type: 'LOGIN_USERNAME',\n    username\n  })\n}\n\nexport const updatePassword = password => dispatch => {\n  dispatch({\n    type: 'LOGIN_PASSWORD',\n    password\n  })\n}\n\nexport const clearForm = () => dispatch => {\n  dispatch({\n    type: 'LOGIN_CLEAR'\n  })\n}\n\nexport default reducer\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { Button, Form, Segment } from 'semantic-ui-react'\nimport loginService from './services/login'\nimport travelService from './services/markers'\nimport { login } from './reducers/userReducer'\nimport { showMessage } from './reducers/messageReducer'\nimport {\n  updateUsername,\n  updatePassword,\n  clearForm\n} from './reducers/loginFormReducer'\n\nclass LoginForm extends Component {\n  login = async event => {\n    event.preventDefault()\n    try {\n      const user = await loginService.login(this.props.user)\n      window.localStorage.setItem('loggedInUser', JSON.stringify(user))\n      travelService.setToken(user.token)\n      this.props.clearForm()\n      this.props.login(user)\n    } catch (exception) {\n      console.log(exception)\n      this.showMessage('Invalid username or password!', 'red')\n    }\n  }\n\n  showMessage = (text, color) =>\n    this.props.showMessage({\n      text,\n      color\n    })\n\n  updateUsername = event => this.props.updateUsername(event.target.value)\n\n  updatePassword = event => this.props.updatePassword(event.target.value)\n\n  render() {\n    return (\n      <Form onSubmit={this.login} size='large'>\n        <Segment>\n          <Form.Input\n            icon='user'\n            iconPosition='left'\n            placeholder='Username'\n            value={this.props.username}\n            onChange={this.updateUsername}\n          />\n          <Form.Input\n            icon='lock'\n            iconPosition='left'\n            placeholder='Password'\n            type='password'\n            value={this.props.password}\n            onChange={this.updatePassword}\n          />\n          <Button color='blue' fluid size='large' type='submit'>\n            Login\n          </Button>\n        </Segment>\n      </Form>\n    )\n  }\n}\nconst mapStateToProps = state => {\n  return {\n    user: state.loginForm,\n    username: state.loginForm.username,\n    password: state.loginForm.password\n  }\n}\n\nconst mapDispatchToProps = {\n  login,\n  showMessage,\n  updateUsername,\n  updatePassword,\n  clearForm\n}\n\nconst connectedLoginForm = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(LoginForm)\n\nexport default connectedLoginForm\n","import axios from 'axios'\nconst baseUrl = '/api/users'\n\nconst create = async newObject => {\n  const response = await axios.post(baseUrl, newObject)\n  return response.data\n}\n\nexport default { create }\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { withRouter } from 'react-router-dom'\nimport { Button, Form, Segment } from 'semantic-ui-react'\nimport userService from './services/users.js'\nimport { showMessage } from './reducers/messageReducer'\nimport {\n  updateUsername,\n  updatePassword,\n  updatePassword2,\n  clearForm\n} from './reducers/registerFormReducer'\n\nclass RegistrationForm extends React.Component {\n  register = async event => {\n    event.preventDefault()\n    const username = this.props.username\n    const password = this.props.password\n    const password2 = this.props.password2\n    if (username.length < 3) {\n      this.showMessage('Username must be at least 3 characters long!', 'red')\n    } else if (password !== password2) {\n      this.showMessage(\"Passwords don't match!\", 'red')\n    } else if (password.length < 3) {\n      this.showMessage('Password must be at least 3 characters long!', 'red')\n    } else {\n      this.createAccount(username, password)\n    }\n  }\n\n  createAccount = async (username, password) => {\n    try {\n      await userService.create({\n        username,\n        password\n      })\n      this.showMessage(`Account ${username} created!`, 'green')\n      this.props.clearForm()\n      this.props.history.push('/login')\n    } catch (exception) {\n      console.log(exception)\n      this.showMessage('Username is already taken!', 'red')\n    }\n  }\n\n  showMessage = (text, color) =>\n    this.props.showMessage({\n      text,\n      color\n    })\n\n  updateUsername = e => this.props.updateUsername(e.target.value)\n\n  updatePassword = e => this.props.updatePassword(e.target.value)\n\n  updatePassword2 = e => this.props.updatePassword2(e.target.value)\n\n  render() {\n    return (\n      <Form onSubmit={this.register} size='large'>\n        <Segment>\n          <Form.Input\n            icon='user'\n            iconPosition='left'\n            placeholder='Username'\n            value={this.props.username}\n            onChange={this.updateUsername}\n          />\n          <Form.Input\n            icon='lock'\n            iconPosition='left'\n            placeholder='Password'\n            type='password'\n            value={this.props.password}\n            onChange={this.updatePassword}\n          />\n          <Form.Input\n            icon='lock'\n            iconPosition='left'\n            placeholder='Repeat password'\n            type='password'\n            value={this.props.password2}\n            onChange={this.updatePassword2}\n          />\n          <Button color='blue' fluid size='large' type='submit'>\n            Submit\n          </Button>\n        </Segment>\n      </Form>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    username: state.registerForm.username,\n    password: state.registerForm.password,\n    password2: state.registerForm.password2\n  }\n}\n\nconst mapDispatchToProps = {\n  showMessage,\n  updateUsername,\n  updatePassword,\n  updatePassword2,\n  clearForm\n}\n\nconst connectedRegistrationForm = withRouter(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(RegistrationForm)\n)\n\nexport default connectedRegistrationForm\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { Grid, Icon, Header, Divider, Message } from 'semantic-ui-react'\nimport Notification from './Notification'\nimport LoginForm from './LoginForm'\nimport RegistrationForm from './RegistrationForm'\n\nconst Forms = ({ login, text, color }) => (\n  <div style={{ overflow: 'hidden' }}>\n    <Divider hidden />\n    <Grid centered padded>\n      <Grid.Row>\n        <Notification text={text} color={color} />\n      </Grid.Row>\n    </Grid>\n    <Divider hidden />\n    {text ? null : (\n      <div>\n        <Divider hidden />\n        <Divider hidden />\n        <Divider hidden />\n        <Divider hidden />\n        <Divider hidden />\n      </div>\n    )}\n    <Grid textAlign='center'>\n      <Grid.Column style={{ maxWidth: 450 }}>\n        <Header as='h2' color='blue'>\n          <Icon name={login ? 'plane' : 'user circle'} />\n          {login ? 'Log in to account' : 'Create new account'}\n        </Header>\n        {login ? <LoginForm /> : <RegistrationForm />}\n        <Message>\n          <Link to={login ? '/register' : '/login'}>\n            {login ? 'Create new account' : 'Log in to account'}\n          </Link>\n        </Message>\n      </Grid.Column>\n    </Grid>\n    <Divider hidden />\n  </div>\n)\n\nexport default Forms\n","import React from 'react'\nimport {\n  Modal,\n  Header,\n  Form,\n  Grid,\n  Divider,\n  Confirm,\n  Menu,\n  Button,\n  Icon\n} from 'semantic-ui-react'\n\nconst AddModal = ({\n  open,\n  close,\n  marker,\n  newTitle,\n  newText,\n  onRemoveSubmit,\n  onEditSubmit,\n  handleTitleChange,\n  handleTextChange,\n  active,\n  setInfo,\n  setEdit,\n  setSettings,\n  confirmOpen,\n  openConfirm,\n  closeConfirm\n}) => (\n  <div>\n    <Confirm\n      centered={false}\n      header='WARNING!'\n      textalign='middle'\n      content={\n        marker.text.length === 0 && marker.title.length === 0\n          ? 'Remove empty marker?'\n          : 'Are you sure?'\n      }\n      cancelButton='Nevermind.'\n      confirmButton=\"Let's do it!\"\n      open={confirmOpen}\n      onCancel={closeConfirm}\n      onConfirm={onRemoveSubmit}\n    />\n    <Modal\n      open={open}\n      onClose={close}\n      style={{ marginTop: '-250px' }}\n      closeIcon>\n      <div>\n        <Menu icon='labeled' fluid widths={3} tabular size='huge' color='blue'>\n          <Menu.Item name='info' active={active === 'info'} onClick={setInfo}>\n            <Icon name='book' />\n            Info\n          </Menu.Item>\n          <Menu.Item name='edit' active={active === 'edit'} onClick={setEdit}>\n            <Icon name='edit' />\n            Edit\n          </Menu.Item>\n          <Menu.Item\n            name='settings'\n            active={active === 'settings'}\n            onClick={setSettings}>\n            <Icon name='trash' />\n            Remove\n          </Menu.Item>\n        </Menu>\n        <Divider hidden />\n        <Divider hidden />\n        <Divider hidden />\n        {active === 'info' ? (\n          <div>\n            <div>\n              <Grid centered verticalAlign='middle'>\n                <Grid.Row>\n                  <Header as='h1' textAlign='center'>\n                    <Divider hidden />\n                    {newTitle.length > 0 ? marker.title : ''}\n                  </Header>\n                </Grid.Row>\n                <Grid.Row>\n                  <Header as='h3'>{marker.text}</Header>\n                </Grid.Row>\n              </Grid>\n            </div>\n          </div>\n        ) : active === 'edit' ? (\n          <div>\n            <Grid centered verticalAlign='middle'>\n              <Grid.Column style={{ maxWidth: 450 }}>\n                <Form onSubmit={onEditSubmit} size='large'>\n                  <Form.Input\n                    name='newTitle'\n                    label='Edit title'\n                    value={newTitle}\n                    onChange={handleTitleChange}\n                  />\n                  <Form.TextArea\n                    name='newText'\n                    label='Additional information'\n                    value={newText}\n                    rows={4}\n                    onChange={handleTextChange}\n                  />\n                  <Button color='blue' fluid size='large' type='submit'>\n                    Update\n                  </Button>\n                </Form>\n              </Grid.Column>\n            </Grid>\n          </div>\n        ) : (\n          <div>\n            <Divider hidden />\n            <Grid padded centered verticalAlign='middle'>\n              <Button\n                size='large'\n                centered='top'\n                color='blue'\n                type='submit'\n                onClick={openConfirm}>\n                Remove marker\n              </Button>\n            </Grid>\n            <Divider hidden />\n          </div>\n        )}\n        <Divider hidden />\n        <Divider hidden />\n        <Divider hidden />\n      </div>\n    </Modal>\n  </div>\n)\n\nexport default AddModal\n","const reducer = (store = { title: '', text: '' }, action) => {\n  switch (action.type) {\n    case 'UPDATEMARKER':\n      return action.markerInfo\n    case 'CLEARMARKER':\n      return {\n        title: '',\n        text: ''\n      }\n    case 'UPDATETITLE':\n      return {\n        title: action.title,\n        text: store.text\n      }\n    case 'UPDATETEXT':\n      return {\n        title: store.title,\n        text: action.text\n      }\n    default:\n      return store\n  }\n}\n\nexport const updateMarkerInfo = markerInfo => dispatch => {\n  dispatch({\n    type: 'UPDATEMARKER',\n    markerInfo: markerInfo\n  })\n}\n\nexport const clearMarkerInfo = () => dispatch => {\n  dispatch({\n    type: 'CLEARMARKER'\n  })\n}\n\nexport const updateTitle = title => dispatch => {\n  dispatch({\n    type: 'UPDATETITLE',\n    title: title\n  })\n}\n\nexport const updateText = text => dispatch => {\n  dispatch({\n    type: 'UPDATETEXT',\n    text: text\n  })\n}\n\nexport default reducer\n","const reducer = (store = false, action) => {\n  switch (action.type) {\n    case 'OPENMODAL':\n      return true\n    case 'CLOSEMODAL':\n      return false\n    default:\n      return store\n  }\n}\n\nexport const openModal = () => dispatch => {\n  dispatch({\n    type: 'OPENMODAL'\n  })\n}\n\nexport const closeModal = () => dispatch => {\n  dispatch({\n    type: 'CLOSEMODAL'\n  })\n}\n\nexport default reducer\n","const reducer = (store = '', action) => {\n  switch (action.type) {\n    case 'CHANGETAB':\n      return action.tab\n    default:\n      return store\n  }\n}\n\nexport const changeTab = tab => dispatch => {\n  dispatch({\n    type: 'CHANGETAB',\n    tab: tab\n  })\n}\n\nexport default reducer\n","const reducer = (store = false, action) => {\n  switch (action.type) {\n    case 'OPENCONFIRM':\n      return true\n    case 'CLOSECONFIRM':\n      return false\n    default:\n      return store\n  }\n}\n\nexport const openConfirm = () => dispatch => {\n  dispatch({\n    type: 'OPENCONFIRM'\n  })\n}\n\nexport const closeConfirm = () => dispatch => {\n  dispatch({\n    type: 'CLOSECONFIRM'\n  })\n}\n\nexport default reducer\n","const reducer = (store = { title: '', text: '' }, action) => {\n  switch (action.type) {\n    case 'ADDMARKER':\n      return action.marker\n    case 'REMOVEMARKER':\n      return { title: '', text: '' }\n    default:\n      return store\n  }\n}\n\nexport const addActiveMarker = marker => dispatch => {\n  dispatch({\n    type: 'ADDMARKER',\n    marker\n  })\n}\n\nexport const clearActiveMarker = () => dispatch => {\n  dispatch({\n    type: 'REMOVEMARKER'\n  })\n}\n\nexport default reducer\n","const reducer = (store = [], action) => {\n  switch (action.type) {\n    case 'UPDATE':\n      return action.markers\n    default:\n      return store\n  }\n}\n\nexport const initMarkers = markers => dispatch => {\n  dispatch({\n    type: 'UPDATE',\n    markers\n  })\n}\n\nexport const addMarker = marker => dispatch => {\n  const markers = this.store.markers\n  dispatch({\n    type: 'UPDATE',\n    markers: markers.concat(marker)\n  })\n}\n\nexport default reducer\n","import React, { Component } from 'react'\nimport { Map, GoogleApiWrapper, Marker } from 'google-maps-react'\nimport markerService from './services/markers'\nimport AddModal from './AddModal'\nimport { connect } from 'react-redux'\nimport {\n  updateMarkerInfo,\n  clearMarkerInfo,\n  updateText,\n  updateTitle\n} from './reducers/markerInfoReducer'\nimport { openModal, closeModal } from './reducers/modalReducer'\nimport { changeTab } from './reducers/menuReducer'\nimport { openConfirm, closeConfirm } from './reducers/confirmReducer'\nimport {\n  addActiveMarker,\n  clearActiveMarker\n} from './reducers/activeMarkerReducer'\nimport { initMarkers, addMarker } from './reducers/markersReducer'\n\nexport class GoogleMaps extends Component {\n  componentDidMount = async () => {\n    const data = await markerService.getAll()\n    const markers = data.map(marker => {\n      return {\n        user: marker.user._id,\n        id: marker.id,\n        title: marker.title,\n        text: marker.text,\n        position: { lat: marker.position.lat, lng: marker.position.lng }\n      }\n    })\n    this.props.initMarkers(markers)\n  }\n\n  open = () => this.props.openConfirm()\n  close = () => this.props.closeConfirm()\n\n  handleTitleChange = event => this.props.updateTitle(event.target.value)\n\n  handleTextChange = event => this.props.updateText(event.target.value)\n\n  updateMarker = async () => {\n    const editedMarker = {\n      ...this.props.activeMarker,\n      title: this.props.markerInfo.title,\n      text: this.props.markerInfo.text\n    }\n    const updatedMarker = await markerService.update(\n      editedMarker.id,\n      editedMarker\n    )\n    const markers = this.props.markers.filter(m => m.id !== editedMarker.id)\n    this.props.initMarkers(markers)\n    this.props.updateMarkerInfo({\n      title: updatedMarker.title,\n      text: updatedMarker.text\n    })\n    this.props.changeTab('info')\n    this.props.addActiveMarker(updatedMarker)\n    this.props.initMarkers(this.props.markers.concat(updatedMarker))\n  }\n\n  removeMarker = async () => {\n    const toRemove = this.props.activeMarker\n    try {\n      await markerService.remove(toRemove.id)\n      const markers = this.props.markers.filter(m => m.id !== toRemove.id)\n      this.props.initMarkers(markers)\n    } catch (exception) {\n      console.log(exception)\n    }\n    this.props.clearMarkerInfo()\n    this.props.closeConfirm()\n    this.props.clearActiveMarker()\n    this.props.closeModal()\n  }\n\n  onMarkerClick = async props => {\n    const lat = props.position.lat\n    const lng = props.position.lng\n    const clickedMarker = this.props.markers.find(\n      marker => marker.position.lat === lat && marker.position.lng === lng\n    )\n    this.props.updateMarkerInfo({\n      title: clickedMarker.title,\n      text: clickedMarker.text\n    })\n    this.props.addActiveMarker(clickedMarker)\n    this.props.openModal()\n    this.props.changeTab('info')\n  }\n\n  handleModalClose = () => {\n    if (\n      this.props.activeMarker.title.length === 0 &&\n      this.props.activeMarker.text.length === 0\n    ) {\n      this.open()\n    } else {\n      this.props.clearMarkerInfo()\n      this.props.clearActiveMarker()\n      this.props.closeModal()\n    }\n  }\n\n  onMapClicked = async (t, map, coord) => {\n    const { latLng } = coord\n    const lat = latLng.lat()\n    const lng = latLng.lng()\n    const newMarker = {\n      user: this.props.user.id,\n      title: '',\n      text: '',\n      position: {\n        lat,\n        lng\n      }\n    }\n    try {\n      const marker = await markerService.create(newMarker)\n      this.props.updateMarkerInfo({\n        title: marker.title,\n        text: marker.text\n      })\n      this.props.changeTab('edit')\n      this.props.addActiveMarker(marker)\n      this.props.openModal()\n      this.props.initMarker(this.props.markers.concat(marker))\n    } catch (exception) {\n      console.log(exception)\n    }\n  }\n\n  renderMarkers = () => {\n    const markers = this.props.markers\n    const filtered = markers.filter(m => m.user === this.props.user.id)\n    return filtered.map(marker => (\n      <Marker\n        key={marker.id}\n        title={marker.title}\n        name={marker.text}\n        position={marker.position}\n        onClick={this.onMarkerClick}\n      />\n    ))\n  }\n\n  handleClose = () => this.props.closeModal()\n  setInfo = () => this.props.changeTab('info')\n  setEdit = () => this.props.changeTab('edit')\n  setSettings = () => this.props.changeTab('settings')\n\n  render() {\n    console.log(this.props.menu)\n    return (\n      <div\n        style={{\n          display: 'flex',\n          justifyContent: 'center'\n        }}>\n        <AddModal\n          open={this.props.modal}\n          close={this.handleModalClose}\n          marker={this.props.activeMarker}\n          newTitle={this.props.markerInfo.title}\n          newText={this.props.markerInfo.text}\n          onRemoveSubmit={this.removeMarker}\n          onEditSubmit={this.updateMarker}\n          handleTitleChange={this.handleTitleChange}\n          handleTextChange={this.handleTextChange}\n          active={this.props.menu}\n          setInfo={this.setInfo}\n          setEdit={this.setEdit}\n          setSettings={this.setSettings}\n          confirmOpen={this.props.confirm}\n          openConfirm={this.open}\n          closeConfirm={this.close}\n        />\n        <Map\n          google={this.props.google}\n          zoom={2}\n          initialCenter={{ lat: 0, lng: 0 }}\n          onClick={this.onMapClicked}>\n          {this.renderMarkers()}\n        </Map>\n      </div>\n    )\n  }\n}\n\nconst wrapper = GoogleApiWrapper(({ apiKey, language }) => ({\n  apiKey: apiKey,\n  language: language\n}))(GoogleMaps)\n\nconst mapStateToProps = state => {\n  return {\n    user: state.user,\n    markerInfo: state.markerInfo,\n    modal: state.modal,\n    confirm: state.confirm,\n    menu: state.menu,\n    activeMarker: state.activeMarker,\n    markers: state.markers\n  }\n}\n\nconst mapDispatchToProps = {\n  updateText,\n  updateTitle,\n  clearMarkerInfo,\n  updateMarkerInfo,\n  openModal,\n  closeModal,\n  openConfirm,\n  closeConfirm,\n  changeTab,\n  addActiveMarker,\n  clearActiveMarker,\n  initMarkers,\n  addMarker\n}\n\nconst connectedWrapper = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(wrapper)\n\nexport default connectedWrapper\n","import React from 'react'\nimport { Menu, Icon, Button } from 'semantic-ui-react'\n\nconst Logout = ({ logout }) => {\n  return (\n    <div>\n      <Menu widths={3} borderless size='huge'>\n        <Menu.Item>\n          <Button color='blue' onClick={logout} size='large'>\n            <Icon name='log out' />\n            Log out\n          </Button>\n        </Menu.Item>\n      </Menu>\n    </div>\n  )\n}\n\nexport default Logout\n","import React from 'react'\nimport GoogleMaps from './GoogleMaps'\nimport Logout from './Logout'\n\nconst Map = ({ logout }) => (\n  <div>\n    <GoogleMaps apiKey={process.env.REACT_APP_MAPS_API_KEY} language={'en'} />\n    <Logout logout={logout} />\n  </div>\n)\n\nexport default Map\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { Redirect, Route, BrowserRouter as Router } from 'react-router-dom'\nimport { Container } from 'semantic-ui-react'\nimport travelService from './services/markers'\nimport { login, logout } from './reducers/userReducer'\nimport { clearForm } from './reducers/registerFormReducer'\nimport Forms from './Forms'\nimport Map from './Map'\n\nexport class App extends Component {\n  componentDidMount = async () => {\n    const loggedInUserJSON = window.localStorage.getItem('loggedInUser')\n    if (loggedInUserJSON) {\n      const user = JSON.parse(loggedInUserJSON)\n      this.props.login(user)\n      travelService.setToken(user.token)\n    }\n  }\n\n  logout = () => {\n    travelService.setToken(null)\n    window.localStorage.removeItem('loggedInUser')\n    this.props.clearForm()\n    this.props.logout()\n  }\n\n  render() {\n    const user = this.props.user\n    const text = this.props.text\n    const color = this.props.color\n    return (\n      <Router>\n        <Container>\n          <Route exact path='/' render={() => <Redirect to='/login' />} />\n          <Route\n            path='/login'\n            render={\n              user\n                ? () => <Redirect to='/map' />\n                : () => <Forms login={true} text={text} color={color} />\n            }\n          />\n          <Route\n            path='/register'\n            render={\n              user\n                ? () => <Redirect to='/map' />\n                : () => <Forms login={false} text={text} color={color} />\n            }\n          />\n          <Route\n            path='/map'\n            render={\n              user\n                ? () => <Map logout={this.logout} />\n                : () => <Redirect to='/login' />\n            }\n          />\n        </Container>\n      </Router>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    user: state.user,\n    text: state.message.text,\n    color: state.message.color\n  }\n}\n\nconst mapDispatchToProps = {\n  login,\n  logout,\n  clearForm\n}\n\nconst connectedApp = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(App)\n\nexport default connectedApp\n","import thunk from 'redux-thunk'\nimport { createStore, combineReducers, applyMiddleware } from 'redux'\nimport userReducer from './reducers/userReducer'\nimport messageReducer from './reducers/messageReducer'\nimport loginFormReducer from './reducers/loginFormReducer'\nimport registerFormReducer from './reducers/registerFormReducer'\nimport markerInfoReducer from './reducers/markerInfoReducer'\nimport modalReducer from './reducers/modalReducer'\nimport menuReducer from './reducers/menuReducer'\nimport confirmReducer from './reducers/confirmReducer'\nimport activeMarkerReducer from './reducers/activeMarkerReducer'\nimport markersReducer from './reducers/markersReducer'\n\nconst reducer = combineReducers({\n  user: userReducer,\n  message: messageReducer,\n  loginForm: loginFormReducer,\n  registerForm: registerFormReducer,\n  markerInfo: markerInfoReducer,\n  modal: modalReducer,\n  confirm: confirmReducer,\n  menu: menuReducer,\n  activeMarker: activeMarkerReducer,\n  markers: markersReducer\n})\n\nconst store = createStore(reducer, applyMiddleware(thunk))\n\nexport default store\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport App from './App'\nimport store from './store'\n\nconst render = () => {\n  ReactDOM.render(\n    <Provider store={store}>\n      <App />\n    </Provider>,\n    document.getElementById('root')\n  )\n}\n\nrender()\nstore.subscribe(render)\n"],"sourceRoot":""}