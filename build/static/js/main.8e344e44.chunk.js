(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{248:function(e,t,n){e.exports=n(450)},448:function(e,t,n){},450:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(37),l=n.n(o),s=n(16),c=n.n(s),i=n(27),u=n(216),p=n(85),m=n(86),d=n(166),f=n(87),g=n(168),h=n(90),v=n(464),w=n(451),k=n(472),b={width:"100%",height:"100%"},E={modal:{marginTop:"-250px",display:"fixed !important"}},y=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(o)))).state={showingInfoWindow:!1,activeMarker:{},selectedPlace:{},modalOpen:!1,markers:[{title:"T\xe4ss\xe4 on nuppi",name:"The marker`s title will appear as a tooltip.",position:{lat:37.778519,lng:-122.40564}}]},n.onMarkerClick=function(e,t,a){return n.setState({selectedPlace:e,activeMarker:t,showingInfoWindow:!0,modalOpen:!0})},n.onClose=function(e){n.state.showingInfoWindow&&n.setState({showingInfoWindow:!1,activeMarker:null})},n.onMapClicked=function(e,t,a){var r=a.latLng,o=r.lat(),l=r.lng();n.setState({markers:n.state.markers.concat({title:"T\xe4ss\xe4 on nuppi!",name:"T\xe4h\xe4n tulee vaikka mink\xe4laista teksti\xe4",position:{lat:o,lng:l}})})},n.renderMarkers=function(){return n.state.markers.map(function(e){return r.a.createElement(h.Marker,{name:e.name,position:e.position,onClick:n.onMarkerClick})})},n.handleOpen=function(){return n.setState({modalOpen:!0})},n.handleClose=function(){return n.setState({modalOpen:!1})},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(v.a,{open:this.state.modalOpen,onClose:this.handleClose,style:E.modal,closeIcon:!0},"    ",r.a.createElement(v.a.Header,null,"Select a Photo"),r.a.createElement(v.a.Content,{image:!0},r.a.createElement(w.a,{wrapped:!0,size:"medium",src:"https://react.semantic-ui.com/images/avatar/large/rachel.png"}),r.a.createElement(v.a.Description,null,r.a.createElement(k.a,null,"Default Profile Image"),r.a.createElement("p",null,"We've found the following gravatar image associated with your e-mail address."),r.a.createElement("p",null,"Is it okay to use this photo?")))),r.a.createElement(h.Map,{google:this.props.google,zoom:2,style:b,initialCenter:{lat:0,lng:0},onClick:this.onMapClicked},this.renderMarkers()))}}]),t}(a.Component),O=(Object(h.GoogleApiWrapper)(function(e){return{apiKey:e.apiKey,language:e.language}})(y),n(471)),C=n(469),x=n(470),S=n(459),j=n(112),I=n.n(j),M=(n(468),n(460)),A=(n(461),r.a.createElement(S.a,null),n(473)),T=(n(462),n(465),n(169)),P=n(463),W=n(474),z=n(467),D=n(466),J=function(e){var t=e.onSubmit,n=e.handleChange,a=e.username,o=e.password;return r.a.createElement("div",{className:"login-form"},r.a.createElement("style",null,"\n      body > div,\n      body > div > div,\n      body > div > div > div.login-form {\n        height: 100%;\n      }\n    "),r.a.createElement(A.a,{textAlign:"center",style:{height:"100%"},verticalAlign:"middle"},r.a.createElement(A.a.Column,{style:{maxWidth:450}},r.a.createElement(k.a,{as:"h2",color:"blue",textAlign:"center"},r.a.createElement(T.a,{name:"plane"})," Log in to account"),r.a.createElement(P.a,{onSubmit:t,size:"large"},r.a.createElement(W.a,null,r.a.createElement(P.a.Input,{fluid:!0,icon:"user",name:"username",iconPosition:"left",placeholder:"Username",defaultValue:a,onChange:n}),r.a.createElement(P.a.Input,{fluid:!0,icon:"lock",name:"password",iconPosition:"left",placeholder:"Password",type:"password",defaultValue:o,onChange:n}),r.a.createElement(z.a,{color:"blue",fluid:!0,size:"large",tyoe:"submit"},"Login"))),r.a.createElement(D.a,null,r.a.createElement(M.a,{to:"/create"},"Create Account")))))},U=function(){return r.a.createElement("div",null,"Create an account!",r.a.createElement(M.a,{to:"/login"},"Return"))},L=null,N={getAll:function(){var e=Object(i.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.get("/api/blogs");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),create:function(){var e=Object(i.a)(c.a.mark(function e(t){var n,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:L}},e.next=3,I.a.post("/api/blogs",t,n);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(i.a)(c.a.mark(function e(t,n){var a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.put("".concat("/api/blogs","/").concat(t),n);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),remove:function(){var e=Object(i.a)(c.a.mark(function e(t){var n,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:L}},e.next=3,I.a.delete("".concat("/api/blogs","/").concat(t),n);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),setToken:function(e){L="bearer ".concat(e)}},V={login:function(){var e=Object(i.a)(c.a.mark(function e(t){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.post("/api/login",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},F=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={user:null,username:"",password:"",color:"",message:""},n.handleFieldChange=function(e){console.log("here"),n.setState(Object(u.a)({},e.target.name,e.target.defaultValue))},n.componentDidMount=Object(i.a)(c.a.mark(function e(){var t,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(t=window.localStorage.getItem("loggedInUser"))&&(a=JSON.parse(t),n.setState({user:a}),N.setToken(a.token));case 2:case"end":return e.stop()}},e,this)})),n.logout=function(){return function(){N.setToken(null),window.localStorage.removeItem("loggedInUser"),n.notify("".concat(n.state.user.username," logged out succesfully!"),"green"),n.setState({user:null})}},n.notify=function(e,t){n.setState({message:e,color:t}),setTimeout(function(){n.setState({message:null,color:null})},2e3)},n.login=function(){var e=Object(i.a)(c.a.mark(function e(t){var a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,V.login({username:n.state.username,password:n.state.password});case 4:a=e.sent,window.localStorage.setItem("loggedInUser",JSON.stringify(a)),N.setToken(a.token),n.setState({username:"",password:"",user:a}),n.notify("".concat(n.state.user.username," logged in succesfully!"),"green"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0),n.notify("invalid username or password!","red");case 15:case"end":return e.stop()}},e,this,[[1,11]])}));return function(t){return e.apply(this,arguments)}}(),n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.state.username,this.state.password),r.a.createElement(O.a,null,r.a.createElement(S.a,null,r.a.createElement(C.a,{exact:!0,path:"/",render:function(){return r.a.createElement(x.a,{to:"/login"})}}),r.a.createElement(C.a,{path:"/login",render:function(){return r.a.createElement(J,{onSubmit:e.login,handleChange:e.handleFieldChange,username:e.state.username,password:e.state.password})}}),r.a.createElement(C.a,{path:"/create",render:function(){return r.a.createElement(U,null)}})))}}]),t}(a.Component);n(448);l.a.render(r.a.createElement(F,null),document.getElementById("root"))}},[[248,2,1]]]);
//# sourceMappingURL=main.8e344e44.chunk.js.map